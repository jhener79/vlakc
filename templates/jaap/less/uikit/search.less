// Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

//
// Component: Search
//
// ========================================================================
// Variables
// ========================================================================

@search-width:                                  29px;
@search-focus-width:                            140px;
@search-height:                                 29px;
@search-color:                                  @global-color;
@search-placeholder-color:                      transparent;

@search-icon-color:                            	@global-color;

@dropdown-search-background:                    #fff;
@dropdown-search-color:                         @global-color;
@dropdown-search-navbar-margin-top:             10px;
@dropdown-search-navbar-margin-right:           -15px;

@nav-search-color:                              @global-color;
@nav-search-active-background:                  @global-color;
@nav-search-active-color:                       @global-link-color;
@nav-search-header-color:                       @global-muted-color;
@nav-search-divider-border:                     @global-border;
@nav-search-divider-border-width:               @global-border-width;
@nav-search-nested-color:                       @global-muted-color;
@nav-search-nested-hover-color:                 @global-link-color;

@offcanvas-search-margin:                       30px;
@offcanvas-search-background:                   rgba(0,0,0,0);
@offcanvas-search-border:                       transparent;
@offcanvas-search-placeholder-color:            rgba(255,255,255,0.4);

//
// New
//

@nav-search-hover-color:                        @global-link-color;


// Component
// ========================================================================

.hook-search() {}

.hook-search-icon() {}


// Sub-object `uk-search-field`
// ========================================================================

.hook-search-field() {
    position: relative;
    padding: 0;
    cursor: pointer;
    z-index: 1;
}

.hook-search-field-focus() {
	color: @search-color;
	&::-webkit-input-placeholder {
	    color: @global-color;
	}
	&:-moz-placeholder {
	    color: @global-color;
	}
	&::-moz-placeholder {
	    color: @global-color;
	}
	&:-ms-input-placeholder {
	    color: @global-color;
	}
}


// Dropdown modifier: `uk-dropdown-search`
// ========================================================================

.hook-dropdown-search() {}


// Nav modifier `uk-nav-search`
// ========================================================================

//
// Items
//

.hook-nav-search() {

    &:hover { color: @nav-search-hover-color; }

}

// Active
.hook-nav-search-active() {}

//
// Sub-object: `uk-nav-header`
//

.hook-nav-search-header() {
    color: @global-color;
    margin: 0 25px;
    border-bottom: 1px solid #ddd;
    margin-bottom: 15px;
}

//
// Sub-object: `uk-nav-divider`
//

.hook-nav-search-divider() {}


// Search in offcanvas
// ========================================================================

.hook-offcanvas-search-field() {
	color: #fff;
}


// Miscellaneous
// ========================================================================

.hook-search-misc() {

	.uk-search-field:focus,
	.uk-search.uk-active .uk-search-field {
	    padding: 0 @search-padding;
	    cursor: text;
	}

	.uk-search.uk-loading:after {
	  content: "";
	  width: 20px;
	  height: 20px;
	  margin: 0;
	  background-color: @global-link-color;
	  border-radius: 100%;
	  -webkit-animation: searchanimation 1s infinite ease-in-out;
	  animation: searchanimation 1s infinite ease-in-out;
	  position: absolute;
	  right: 15px;
	  top: 5px;
	}
	@-webkit-keyframes searchanimation {
	  0% { -webkit-transform: scale(0.0) }
	  100% {
	    -webkit-transform: scale(1.0);
	    opacity: 0;
	  }
	}

	@keyframes searchanimation {
	  0% { 
	    transform: scale(0.0);
	    -webkit-transform: scale(0.0);
	  } 100% {
	    transform: scale(1.0);
	    -webkit-transform: scale(1.0);
	    opacity: 0;
	  }
	}

	// search dropdown
	.tm-toolbar {
		input.uk-search-field {
			height: auto;
		  	color: #f9f9f9;
		}
		.uk-search:before {
		    color: inherit;
		    line-height: inherit;
		}
		.uk-search.uk-loading:after {
			top: 0;
		}
	}

	.uk-dropdown-search {
	    top: 33px;
	    box-shadow: 0px 2px 3px 0 rgba(0, 0, 0, 0.1);
	    padding-top: 10px !important;
	    padding-bottom: 10px !important;
	    .uk-nav-search {
	        > li { 
	            > a {
	                padding: 10px 25px;
	                color: #444;
	            }
	            &.uk-active {
	                > a {
	                    background: #444;      
	                    color: #fff;
	                }
	            }
	        }
	    } 
	}
}